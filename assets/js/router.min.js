{const{directive:a,emitter:b,run:c,isRenderable:d,isFunc:e}=rilti,f=b((a,b)=>{null==b||("#"!==a[0]&&(a="#"+a),"TEMPLATE"===b.tagName&&(b.remove(),b=[...b.content.childNodes]),d(b)&&(g[a]=e(b)?b():b))}),g=f.views=Object.create(null);f.hash=(a=location.hash)=>a.replace("#",""),a("route-link",{init(a,b){a.routeLink=f.on.change(()=>{a.class["active-route"]=location.hash===(a.href="#"+a.attr["route-link"])}),a.class["active-route"]=location.hash===(a.href="#"+b)},remove:a=>a.routeLink.off()}),a("route",{init(a,b){"TEMPLATE"===a.tagName?f(b,a):a.routeHandler=f.on.change((b,c)=>{c===a.attr.route?a.html=b:a.textContent=""})},remove(a){a.routeHandler&&(a.routeHandler.off(),a.textContent="")}}),a("route-active",{init(a){a.routeHandler=f.on.change((b,c)=>{a.attr["route-active"]=c,a.html=b})},remove(a){a.routeHandler.off(),a.textContent=""}}),rilti.route=f,f.handle=()=>{const a=f.views[location.hash];if(null!=a){f.active=a;const b=f.hash();f.emit.change(a,b,f),f.emit[b](a,f)}},f.whenActive=(a,b,c)=>rilti.run(()=>{"#"!==a[0]&&(a="#"+a);let d=f.views[a];location.hash===a&&null!=d&&(b(d,f,a),c)||(a=f.hash(a),f[c?"once":"on"][a](c=>{b(c,f,a)}))}),window.onhashchange=f.handle,c(()=>{f.handle(),window.dispatchEvent(new window.CustomEvent("routerReady"))})}